(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2129ebe"],{"0742":function(e,t,a){"use strict";a("9877")},7977:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"用户姓名",prop:"realName"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.realName,callback:function(t){e.$set(e.queryParams,"realName",t)},expression:"queryParams.realName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"userStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParams.userStatus,callback:function(t){e.$set(e.queryParams,"userStatus",t)},expression:"queryParams.userStatus"}},e._l(e.statusArr,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"注册时间",prop:"registerTime"}},[a("el-date-picker",{staticStyle:{width:"340px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:add"],expression:"['business:user:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增会员")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:optMoney"],expression:"['business:user:optMoney']"}],attrs:{type:"success",plain:"",size:"mini"},on:{click:e.handleBalance}},[e._v("增减余额")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:export"],expression:"['business:user:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"邀请码",align:"center",prop:"inviteCode"}}),a("el-table-column",{attrs:{label:"用户名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"姓名",align:"center",prop:"realName"}}),a("el-table-column",{attrs:{label:"账户余额",align:"center",prop:"balance"}}),a("el-table-column",{attrs:{label:"用户详情",align:"center",prop:"userName",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:query"],expression:"['business:user:query']"}],attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleDetail(t.row)}}},[e._v("用户详情")])]}}])}),a("el-table-column",{attrs:{label:"USDT钱包地址",align:"center",prop:"walletAddr",width:"200"}}),a("el-table-column",{attrs:{label:"银行信息",align:"center",prop:"bankName",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.bankName))]),a("div",[e._v(e._s(t.row.bankAddr))]),a("div",[e._v(e._s(t.row.bankCardNum))])]}}])}),e._v("> "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"userStatus",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.changeStatus(t.row.id,t.row.userStatus)}},model:{value:t.row.userStatus,callback:function(a){e.$set(t.row,"userStatus",a)},expression:"scope.row.userStatus"}})]}}])}),a("el-table-column",{attrs:{label:"会员等级",align:"center",prop:"userLevelId"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.userLevelId?"普通会员":"未知等级"))])]}}])}),a("el-table-column",{attrs:{label:"推荐人用户名",align:"center",prop:"userAgent"}}),a("el-table-column",{attrs:{align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.registerTime))]),a("div",[e._v(e._s(t.row.lastTime))])]}}])},[a("template",{slot:"header"},[a("div",[e._v("注册时间")]),a("div",[e._v("上次登陆时间")])])],2),a("el-table-column",{attrs:{align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.registerIp))]),a("div",[e._v(e._s(t.row.lastIp))])]}}])},[a("template",{slot:"header"},[a("div",[e._v("注册IP")]),a("div",[e._v("上次登陆IP")])])],2),a("el-table-column",{attrs:{label:"会员关联",align:"center",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.queryChange("shangji",t.row.id)}}},[e._v("上级用户")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.queryChange("xiaji",t.row.id)}}},[e._v("下级用户")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:edit"],expression:"['business:user:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:optMoney"],expression:"['business:user:optMoney']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.balanceUpdate(t.row)}}},[e._v("余额重置")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["business:user:remove"],expression:"['business:user:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"真实姓名",prop:"realName"}},[a("el-input",{attrs:{placeholder:"请输入真实姓名"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),a("el-form-item",{attrs:{label:"身份证号码",prop:"idCard"}},[a("el-input",{attrs:{placeholder:"请输入身份证号码"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),a("el-form-item",{attrs:{label:"登录密码"}},[a("el-input",{attrs:{placeholder:"不输入表示不修改"},model:{value:e.form.loginPwd,callback:function(t){e.$set(e.form,"loginPwd",t)},expression:"form.loginPwd"}})],1),a("el-form-item",{attrs:{label:"支付密码"}},[a("el-input",{attrs:{placeholder:"不输入表示不修改支付密码"},model:{value:e.form.payPwd,callback:function(t){e.$set(e.form,"payPwd",t)},expression:"form.payPwd"}})],1),a("el-form-item",{attrs:{label:"钱包地址",prop:"walletAddr"}},[a("el-input",{attrs:{placeholder:"请输入钱包地址"},model:{value:e.form.walletAddr,callback:function(t){e.$set(e.form,"walletAddr",t)},expression:"form.walletAddr"}})],1),a("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNum"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.form.bankCardNum,callback:function(t){e.$set(e.form,"bankCardNum",t)},expression:"form.bankCardNum"}})],1),a("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[a("el-input",{attrs:{placeholder:"请输入银行名称"},model:{value:e.form.bankName,callback:function(t){e.$set(e.form,"bankName",t)},expression:"form.bankName"}})],1),a("el-form-item",{attrs:{label:"开户行地址",prop:"bankAddr"}},[a("el-input",{attrs:{placeholder:"请输入开户行地址"},model:{value:e.form.bankAddr,callback:function(t){e.$set(e.form,"bankAddr",t)},expression:"form.bankAddr"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"添加会员",visible:e.addOpen,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.addOpen=t}}},[a("el-form",{ref:"addform",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"推荐人",prop:"userAgent"}},[a("el-input",{attrs:{placeholder:"请输入推荐人用户名"},model:{value:e.addForm.userAgent,callback:function(t){e.$set(e.addForm,"userAgent",t)},expression:"addForm.userAgent"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入4-12位数字或字母"},model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"loginPwd"}},[a("el-input",{attrs:{placeholder:"请输入6-12位数字或字母"},model:{value:e.addForm.loginPwd,callback:function(t){e.$set(e.addForm,"loginPwd",t)},expression:"addForm.loginPwd"}})],1),a("el-form-item",{attrs:{label:"支付密码",prop:"payPwd"}},[a("el-input",{attrs:{placeholder:"请输入6位数字"},model:{value:e.addForm.payPwd,callback:function(t){e.$set(e.addForm,"payPwd",t)},expression:"addForm.payPwd"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addSub}},[e._v("确 定")]),a("el-button",{on:{click:e.addCancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"增减余额",visible:e.balanceOpen,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.balanceOpen=t}}},[a("el-form",{ref:"balanceform",attrs:{model:e.balanceForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入4-12位数字或字母"},model:{value:e.balanceForm.userName,callback:function(t){e.$set(e.balanceForm,"userName",t)},expression:"balanceForm.userName"}})],1),a("el-form-item",{attrs:{label:"金额",prop:"money"}},[a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.balanceForm.money,callback:function(t){e.$set(e.balanceForm,"money",t)},expression:"balanceForm.money"}})],1),a("el-form-item",{attrs:{label:"增减类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择上下分类型"},model:{value:e.balanceForm.type,callback:function(t){e.$set(e.balanceForm,"type",t)},expression:"balanceForm.type"}},[a("el-option",{attrs:{label:"上分",value:1}}),a("el-option",{attrs:{label:"下分",value:2}})],1)],1),a("el-form-item",{attrs:{label:"货币类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择货币类型"},model:{value:e.balanceForm.amountType,callback:function(t){e.$set(e.balanceForm,"amountType",t)},expression:"balanceForm.amountType"}},[a("el-option",{attrs:{label:"人民币",value:1}}),a("el-option",{attrs:{label:"USDT",value:2}})],1)],1),a("el-form-item",{attrs:{label:"修改理由",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请填写备注"},model:{value:e.balanceForm.remark,callback:function(t){e.$set(e.balanceForm,"remark",t)},expression:"balanceForm.remark"}}),e._l(e.reasonList,(function(t,r){return a("el-tag",{key:r,staticClass:"reasonClass",attrs:{type:"success"},on:{click:function(a){return e.changeReason(t)}}},[e._v(e._s(t))])}))],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.balanceSub}},[e._v("确 定")]),a("el-button",{on:{click:e.balanceCancel}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"详情",visible:e.detailsOpen,width:"1200px","append-to-body":""},on:{"update:visible":function(t){e.detailsOpen=t}}},[a("el-table",{attrs:{data:e.detailList}},[a("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"邀请码",align:"center",prop:"inviteCode"}}),a("el-table-column",{attrs:{label:"姓名",align:"center",prop:"realName"}}),a("el-table-column",{attrs:{label:"用户名",align:"center",prop:"userName"}}),a("el-table-column",{attrs:{label:"银行名称",align:"center",prop:"bankName"}}),a("el-table-column",{attrs:{label:"支行信息",align:"center",prop:"bankAddr"}}),a("el-table-column",{attrs:{label:"银行卡号",align:"center",prop:"bankCardNum"}}),a("el-table-column",{attrs:{label:"冻结",align:"center",prop:"userStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.userStatus?"正常":"冻结"))])]}}])}),a("el-table-column",{attrs:{label:"会员等级",align:"center",prop:"userLevelId"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.userLevelId?"普通会员":"未知等级"))])]}}])}),a("el-table-column",{attrs:{label:"推荐人用户名",align:"center",prop:"userAgent"}}),a("el-table-column",{attrs:{label:"账户余额",align:"center",prop:"balance"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.detailsTotal>0,expression:"detailsTotal>0"}],attrs:{total:e.detailsTotal,page:e.userform.pageNum,limit:e.userform.pageSize},on:{"update:page":function(t){return e.$set(e.userform,"pageNum",t)},"update:limit":function(t){return e.$set(e.userform,"pageSize",t)},pagination:function(t){return e.queryChange(e.detailType,e.userform.id)}}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailsOpen=!1}}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.detailsOpen=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"用户详情",visible:e.userOpen,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.userOpen=t}}},[a("el-form",{ref:"form",attrs:{model:e.userform,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.id,callback:function(t){e.$set(e.userform,"id",t)},expression:"userform.id"}})],1),a("el-form-item",{attrs:{label:"推荐人"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.userAgent,callback:function(t){e.$set(e.userform,"userAgent",t)},expression:"userform.userAgent"}})],1),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.userName,callback:function(t){e.$set(e.userform,"userName",t)},expression:"userform.userName"}})],1),a("el-form-item",{attrs:{label:"真实姓名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.realName,callback:function(t){e.$set(e.userform,"realName",t)},expression:"userform.realName"}})],1),a("el-form-item",{attrs:{label:"身份证号码"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.idCard,callback:function(t){e.$set(e.userform,"idCard",t)},expression:"userform.idCard"}})],1),a("el-form-item",{attrs:{label:"USDT地址"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.walletAddr,callback:function(t){e.$set(e.userform,"walletAddr",t)},expression:"userform.walletAddr"}})],1),a("el-form-item",{attrs:{label:"银行名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.bankName,callback:function(t){e.$set(e.userform,"bankName",t)},expression:"userform.bankName"}})],1),a("el-form-item",{attrs:{label:"支行地址"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.bankAddr,callback:function(t){e.$set(e.userform,"bankAddr",t)},expression:"userform.bankAddr"}})],1),a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.bankCardNum,callback:function(t){e.$set(e.userform,"bankCardNum",t)},expression:"userform.bankCardNum"}})],1),a("el-form-item",{attrs:{label:"余额"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.userform.balance,callback:function(t){e.$set(e.userform,"balance",t)},expression:"userform.balance"}})],1),a("el-form-item",{attrs:{label:"是否锁定"}},[a("el-select",{attrs:{disabled:!0,placeholder:"请选择"},model:{value:e.userform.userStatus,callback:function(t){e.$set(e.userform,"userStatus",t)},expression:"userform.userStatus"}},[a("el-option",{attrs:{label:"正常",value:0}}),a("el-option",{attrs:{label:"锁定",value:1}})],1)],1),a("el-form-item",{attrs:{label:"会员等级"}},[a("el-select",{attrs:{disabled:!0,placeholder:"请选择"},model:{value:e.userform.userLevelId,callback:function(t){e.$set(e.userform,"userLevelId",t)},expression:"userform.userLevelId"}},[a("el-option",{attrs:{label:"普通会员",value:0}}),a("el-option",{attrs:{label:"未知等级",value:1}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.userOpen=!1}}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.userOpen=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"重置余额",visible:e.resetBalanceStatus,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.resetBalanceStatus=t}}},[a("el-form",{ref:"resetBalanceForm",attrs:{model:e.resetBalanceForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入4-12位数字或字母"},model:{value:e.resetBalanceForm.userName,callback:function(t){e.$set(e.resetBalanceForm,"userName",t)},expression:"resetBalanceForm.userName"}})],1),a("el-form-item",{attrs:{label:"修改后余额",prop:"balance"}},[a("el-input",{attrs:{placeholder:"请输入金额"},model:{value:e.resetBalanceForm.balance,callback:function(t){e.$set(e.resetBalanceForm,"balance",t)},expression:"resetBalanceForm.balance"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.balanceUpdateSub}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.resetBalanceForm=!1}}},[e._v("取 消")])],1)],1)],1)},l=[],s=a("5530"),n=(a("d81d"),a("b775"));function o(e){return Object(n["a"])({url:"/business/user/list",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/business/user/"+e,method:"get"})}function u(e){return Object(n["a"])({url:"/business/user",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/business/user",method:"put",data:e})}function m(e){return Object(n["a"])({url:"/business/user/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/business/user/optMoney",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/business/user/resetBalance",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/business/user/getAgentUser",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/business/user/getSubUser",method:"get",params:e})}var h=a("5f87"),v={name:"User",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,userList:[],title:"",open:!1,addOpen:!1,balanceOpen:!1,dateRange:[],queryParams:{pageNum:1,pageSize:10,userName:null,userStatus:"",userAgent:null,registerTime:null},form:{},addForm:{},balanceForm:{remark:""},rules:{userName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],userAgent:[{required:!0,message:"推荐人不能为空",trigger:"blur"}],loginPwd:[{required:!0,message:"用户名不能为空",trigger:"blur"}],payPwd:[{required:!0,message:"用户名不能为空",trigger:"blur"}],money:[{required:!0,message:"金额不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择上分类型",trigger:"change"}],remark:[{required:!0,message:"请填写备注",trigger:"blur"}],balance:[{required:!0,message:"金额不能为空",trigger:"blur"}],amountType:[{required:!0,message:"请选择余额类型",trigger:"change"}]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},statusArr:[{label:"全部",value:""},{label:"正常",value:0},{label:"已冻结",value:1}],detailList:[],detailsOpen:!1,userform:{pageNum:1,pageSize:10},userOpen:!1,detailsTotal:0,detailType:"",detailValue:"",resetBalanceStatus:!1,resetBalanceForm:{id:"",userName:"",balance:""},reasonList:["增加投资","提款失败退回","保证金退回","提款成功扣除","股权分红","股权"]}},created:function(){this.getDefaultTime(),this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},addCancel:function(){this.addOpen=!1,this.adReset()},balanceCancel:function(){this.balanceOpen=!1},addReset:function(){this.form={userName:null,userAgent:null,loginPwd:null,payPwd:null},this.resetForm("addform")},reset:function(){this.form={id:null,userName:null,balance:null,realName:null,idCard:null,loginPwd:null,payPwd:null,inviteCode:null,walletAddr:null,bankCardNum:null,bankName:null,bankAddr:null,userStatus:null,userLevelId:null,userAgent:null,isRealName:null,registerTime:null,registerIp:null,lastTime:null,lastIp:null,modifyTime:null},this.resetForm("form")},balanceReset:function(){this.balanceForm={userName:null,money:null,type:null,remark:null},this.resetForm("balanceform")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.addOpen=!0},handleBalance:function(){this.balanceOpen=!0},addSub:function(){var e=this;this.$refs["addform"].validate((function(t){t&&u(e.addForm).then((function(t){e.$modal.msgSuccess("新增成功"),e.addOpen=!1,e.getList()}))}))},balanceSub:function(){var e=this;this.$refs["balanceform"].validate((function(t){t&&d(e.balanceForm).then((function(t){e.$modal.msgSuccess("操作成功"),e.balanceOpen=!1,e.getList()}))}))},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;i(a).then((function(e){t.form=e.data,t.form.loginPwd="",t.form.payPwd="",t.open=!0,t.title="修改"}))},handleDetail:function(e){var t=this,a=e.id||this.ids;i(a).then((function(e){t.userform=e.data,t.userOpen=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?c(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):u(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$modal.confirm('是否确认删除【请填写功能名称】编号为"'+a+'"的数据项？').then((function(){return m(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("business/user/export",Object(s["a"])({},this.queryParams),"user_".concat((new Date).getTime(),".xlsx"))},queryChange:function(e,t){var a=this;this.detailType=e,this.userform["id"]=t,"shangji"===e?b(this.userform).then((function(e){a.detailList=e.rows,a.detailsTotal=e.total,a.detailsOpen=!0})):"xiaji"===e&&f(this.userform).then((function(e){a.detailList=e.rows,a.detailsTotal=e.total,a.detailsOpen=!0}))},getDefaultTime:function(){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),this.dateRange[0]=Object(h["a"])("YYYY-mm-dd",t)+" 00:00:00",this.dateRange[1]=Object(h["a"])("YYYY-mm-dd",e)+" 23:59:59"},balanceUpdate:function(e){this.resetBalanceStatus=!0,this.resetBalanceForm.id=e.id,this.resetBalanceForm.userName=e.userName,this.resetBalanceForm.balance=e.balance},balanceUpdateSub:function(){var e=this;this.$refs["resetBalanceForm"].validate((function(t){t&&p(e.resetBalanceForm).then((function(t){e.$modal.msgSuccess("修改成功"),e.resetBalanceStatus=!1,e.getList()}))}))},changeStatus:function(e,t){var a=this;console.log(e,t),c({id:e,userStatus:t}).then((function(e){a.$modal.msgSuccess("修改成功")}))},changeReason:function(e){this.balanceForm.remark=e}}},g=v,k=(a("0742"),a("2877")),y=Object(k["a"])(g,r,l,!1,null,null,null);t["default"]=y.exports},9877:function(e,t,a){}}]);